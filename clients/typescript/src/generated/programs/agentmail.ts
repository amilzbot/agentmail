/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import { assertIsInstructionWithAccounts, containsBytes, getU8Encoder, type Address, type Instruction, type InstructionWithData, type ReadonlyUint8Array } from '@solana/kit';
import { parseDeregisterAgentInstruction, parseRegisterAgentInstruction, parseUpdateAgentInstruction, type ParsedDeregisterAgentInstruction, type ParsedRegisterAgentInstruction, type ParsedUpdateAgentInstruction } from '../instructions';

export const AGENTMAIL_PROGRAM_ADDRESS = 'PinocchioTemp1ate11111111111111111111111111' as Address<'PinocchioTemp1ate11111111111111111111111111'>;

export enum AgentmailAccount { AgentRegistry }

export enum AgentmailInstruction { RegisterAgent, UpdateAgent, DeregisterAgent }

export function identifyAgentmailInstruction(instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array): AgentmailInstruction {
const data = 'data' in instruction ? instruction.data : instruction;
if (containsBytes(data, getU8Encoder().encode(3), 0)) { return AgentmailInstruction.RegisterAgent; }
if (containsBytes(data, getU8Encoder().encode(4), 0)) { return AgentmailInstruction.UpdateAgent; }
if (containsBytes(data, getU8Encoder().encode(5), 0)) { return AgentmailInstruction.DeregisterAgent; }
throw new Error("The provided instruction could not be identified as a agentmail instruction.")
}

export type ParsedAgentmailInstruction<TProgram extends string = 'PinocchioTemp1ate11111111111111111111111111'> =
| { instructionType: AgentmailInstruction.RegisterAgent } & ParsedRegisterAgentInstruction<TProgram>
| { instructionType: AgentmailInstruction.UpdateAgent } & ParsedUpdateAgentInstruction<TProgram>
| { instructionType: AgentmailInstruction.DeregisterAgent } & ParsedDeregisterAgentInstruction<TProgram>


        export function parseAgentmailInstruction<TProgram extends string>(
            instruction: Instruction<TProgram> 
                & InstructionWithData<ReadonlyUint8Array>
        ): ParsedAgentmailInstruction<TProgram> {
            const instructionType = identifyAgentmailInstruction(instruction);
            switch (instructionType) {
                case AgentmailInstruction.RegisterAgent: { assertIsInstructionWithAccounts(instruction);
return { instructionType: AgentmailInstruction.RegisterAgent, ...parseRegisterAgentInstruction(instruction) }; }
case AgentmailInstruction.UpdateAgent: { assertIsInstructionWithAccounts(instruction);
return { instructionType: AgentmailInstruction.UpdateAgent, ...parseUpdateAgentInstruction(instruction) }; }
case AgentmailInstruction.DeregisterAgent: { assertIsInstructionWithAccounts(instruction);
return { instructionType: AgentmailInstruction.DeregisterAgent, ...parseDeregisterAgentInstruction(instruction) }; }
                default: throw new Error(`Unrecognized instruction type: ${instructionType as string}`);
            }
        }